# 微信渠道

## 微信渠道简介

春松客服作为多渠道开源客服系统，可以支持多种的 IM 渠道，比如 网页 WebIM、电话、微信、钉钉等。这里主要讨论将微信公众号和小程序作为一种 IM 渠道。
访客进入微信公众号或者微信小程序的聊天界面，可以给客服发送消息。消息将通过微信进入春松客服的`坐席工作台`，有对应的人工客服或机器人客服负责接待访客，客服只要专注在春松客服`坐席工作台`解答访客的疑问，方便快捷高效。

## 需求概述

- 微信公众号与春松客服打通，互相发送接收消息（富文本）。
- 微信小程序客服渠道与春松客服打通，互相发送接收消息（富文本）。
- 从微信渠道向春松客服发送消息，春松客服坐席工作台弹出弹屏幕和消息提醒。
- 坐席工作台，坐席人员可以看到访客的基本信息（渠道信息、微信昵称）

## 用户故事

### 作为管理员，我可以创建微信渠道

TODO，需要增加描述和示意图。

### 作为访客，我可以在微信公众号上发送消息联系客服

![访客界面](../assets/images/wechat-001-channels.png)

### 作为客服人员，我可以在客服工作台收到访客会话请求

![坐席工作台](../assets/images/wechat-002-channels.png)

## 实现方案

### 微信客服 API

<https://kf.weixin.qq.com/api/doc/path/93304>

微信客服由腾讯微信团队为企业打造，用于满足企业的客服需求，帮助企业做好客户服务。企业可以在微信内、外各个场景中接入微信客服，用户可以发起咨询，企业可通过 API 来收发消息。

#### 微信客服提供哪些 API

开发者通过微信客服提供的相关 API，可实现通过 API 来管理微信客服帐号、收发客服消息，并可基于此定制丰富的客服管理功能，如实现接入客服机器人、自定义会话路由分配、统计客服数据等。

具体的接口能力包括：

- 客服帐号管理
- 客服消息收发
- 客户基本信息获取
- 在 App 或微信小程序里接入微信客服
- 当用户进入微信客服会话或向微信客服发送消息时，企业将收到来自微信客服推送过来的事件或消息，开发者可依据自身业务逻辑进行响应。

### 春松客服渠道接入

参考春松客服网页渠道实现。

<!-- 在此之上添加内容，https://stackoverflow.com/questions/16965490/pandoc-markdown-page-break -->
```{=openxml}
<w:p>
  <w:r>
    <w:br w:type="page"/>
  </w:r>
</w:p>
```
